<div class="parent">

<div class="container mt-5 mb-5">
    <div class="employee-card">

        <div class="form-header text-center bg-warning">
            Employee Registration Form
        </div>

        <div class="p-4">

            <!-- ================= PERSONAL INFO ================= -->
            <div class="form-section">
                <h5 class="section-title">Personal Information</h5>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">Full Name</label>
                        <input type="text" [disabled]="loggedEmpData.role != 'HR'" [disabled]="loggedEmpData.role != 'HR'" [(ngModel)]="newEmployeeObj.name" class="form-control" placeholder="Enter full name">
                    </div>
                    <div class="col-md-6">
                        <label class="form-label">Role</label>
                           <select class="form-select" [disabled]="loggedEmpData.role != 'HR'" [(ngModel)]="newEmployeeObj.role" class="form-control" >
                            <option selected>Select Role</option>
                            <option>HR</option>
                            <option>Employee</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- ================= CONTACT INFO ================= -->
            <div class="form-section">
                <h5 class="section-title">Contact Information</h5>
                <div class="row g-3">
                    <div class="col-md-4">
                        <label class="form-label">Mobile No</label>
                        <input type="text"  [(ngModel)]="newEmployeeObj.mobileNo" class="form-control"placeholder="Enter mobile number">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Alternate Mobile</label>
                        <input type="text"  [(ngModel)]="newEmployeeObj.altMobileNo" class="form-control"placeholder="Enter alternate number">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Email</label>
                        <input type="email" [disabled]="loggedEmpData.role != 'HR'" [(ngModel)]="newEmployeeObj.email" class="form-control"placeholder="Enter email">
                    </div>
                </div>
            </div>

            <!-- ================= ADDRESS INFO ================= -->
            <div class="form-section">
                <h5 class="section-title">Address Details</h5>
                <div class="row g-3">
                    <div class="col-12">
                        <label class="form-label">Address</label>
                        <textarea [(ngModel)]="newEmployeeObj.address" class="form-control"rows="2" placeholder="Enter address"></textarea>
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">City</label>
                        <input type="text"  [(ngModel)]="newEmployeeObj.city" class="form-control"placeholder="Enter city">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">State</label>
                        <input type="text"  [(ngModel)]="newEmployeeObj.state" class="form-control"placeholder="Enter state">
                    </div>
                    <div class="col-md-4">
                        <label class="form-label">Pincode</label>
                        <input type="text"  [(ngModel)]="newEmployeeObj.pincode" class="form-control"placeholder="Enter pincode">
                    </div>
                </div>
            </div>

            <!-- ================= JOB DETAILS ================= -->
            <div class="form-section">
                <h5 class="section-title">Job Details</h5>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">Designation</label>
                        <select class="form-select" [disabled]="loggedEmpData.role != 'HR'" [(ngModel)]="newEmployeeObj.designationId" class="form-control">
                            <option selected>Select Designation</option>
                            @for(itm of $designationList|async; track $index)
                            {
                                <option [value]="itm.designationId">{{itm.departmentName}}-{{itm.designationName}}</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Created Date</label>
                        <input type="date" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Modified Date</label>
                        <input type="date" class="form-control">
                    </div>
                </div>
            </div>

            <!-- ================= BUTTONS ================= -->
            <div class="text-end mt-4">
             @if(loggedEmpData.role === 'HR')
             {
         
                <button type="button" [disabled]="loggedEmpData.role === 'HR'" (click)="onReset()" class="btn btn-outline-secondary me-2">Reset</button>
             }
              @else if(newEmployeeObj.empId ===0)
                {
                     <button type="button" (click)="onSaveEmp()" class="btn btn-primary">Save Employee</button>
                }
               @else {
                 <button type="button" (click)="onUpdateEmp()" class="btn btn-warning">Update Employee</button>
               }
            </div>

        </div>

    </div>
</div>
</div>


